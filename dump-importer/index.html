<html>
    <head>
        <meta charset="utf-8">
        <title>Import rtcstats dumps</title>
        <!-- highcharts is used under the terms of
            http://shop.highsoft.com/faq/non-commercial
        -->
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <script src="https://webrtchacks.github.io/adapter/adapter-latest.js"></script>
        <style>
body, body svg text {
    font-family: monospace;
}
details[open] pre {
    padding-left: 10px;
    padding-bottom: 10px;
}
table details[open] summary {
    color: blue;
}
table details.host summary:after {
    content: ' (host)';
}
table details.relay summary:after {
    content: ' (relay)';
}
table details.srflx summary:after {
    content: ' (srflx)'
}

#tables {
    width: 100%;
}
#tables>details:nth-of-type(even) {
    background-color: #f0f0f0;
}
.graph {
    margin-left: 10px;
    margin-right: 10px;
}

.candidatepairtable {
    text-align: center;
}
.candidatepairtable td {
    background-color: #ddd;
    padding: 5px;
}
        </style>
        <script type="importmap">
{
    "imports": {
        "@rtcstats/rtcstats-js": "../packages/rtcstats.js",
        "@rtcstats/rtcstats-shared": "../packages/rtcstats-shared/index.js"
    }
}
        </script>
    </head>
    <body>
        <p>This is an import tool for dumps from chrome://webrtc-internals and rtcstats. See <a href="https://bloggeek.me/webrtc-internals/">this blog post</a> for a lengthy description of what it does and how to interpret some of the data. See <a href=https://www.rtcstats.com">rtcstats.com</a> for a much nicer version.
        <form>
            <label>Select a WebRTC-internals JSON dump or RTCStats dump:</label>
            <input type="file" id="import">
            <br>
            <label for="useReferenceTime">Use RTCPeerConnection creation time as start time for all graphs.</label>
            <input type="checkbox" id="useReferenceTime">
        </form>
        <hr>
        <div id="tables">
        </div>
    </body>
    <script type="module" src="main.js"></script>
</html>
